---
- hosts: 10.8.23.15
  connection: local
  gather_facts: no
  tasks:
    - name: Create/Delete tenant
      bcf_tenant:
          controller: '{{ inventory_hostname }}'
          name: auto_tenant1
          state: present
          validate_certs: false
          access_token: 'q5aK_OXXgiTiiCbf3j6x8tEBu4qORQzu'

    - name: Create/Delete segment
      bcf_segment:
          controller: '{{ inventory_hostname }}'
          tenantName: auto_tenant1
          segmentName: auto_segment1
          tenantState: present
          segmentState: present
          validate_certs: false
          access_token: 'q5aK_OXXgiTiiCbf3j6x8tEBu4qORQzu'

    - name: Create/Delete logical router
      bcf_logicalrouter:
          controller: '{{ inventory_hostname }}'
          tenantName: auto_tenant1
          segmentName: auto_segment1
          ipcidr: '2.2.2.2/24'
          segIntState: present
          validate_certs: false
          access_token: 'q5aK_OXXgiTiiCbf3j6x8tEBu4qORQzu'

